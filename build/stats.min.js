// @drecom/stats.js - http://github.com/drecom/stats.js
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){"use strict";var e=function(e,t){var n=e,r=1e3/n,o=1e3/n*.6,i=2*Math.round(window.devicePixelRatio||1),a=80*i,f=48*i,l=3*i,c=2*i,u=3*i,d=25*i,s=74*i,p=20*i,m=d/2,v="#002",h="#124",y=0,x=0,S=p,M=0,g=[];if(t&&t instanceof Array){M=t.length;for(var w=0;w<M;w++)g.push(p)}var R=document.createElement("div");R.style.cssText="position:fixed;top:0;left:0;opacity:0.9;z-index:10000";var T=document.createElement("canvas");T.width=a,T.height=f,R.appendChild(T),T.style.cssText="width:80px;height:48px";var z=T.getContext("2d");z.font="bold "+9*i+"px Helvetica,Arial,sans-serif",z.textBaseline="top",z.fillStyle=v,z.fillRect(0,0,a,f),z.fillStyle=h,z.fillRect(u,d,s,p);var A=function(e,t,n,r){z.fillStyle=e;var o=Math.round((1-n/t)*p);p-i<o?o=p-i:o<0&&(o=0);var a=Math.min(o,r),f=Math.max(o,r)-a;return f<i&&(f=i),z.fillRect(u+s-i,d+a,i,f),o};return{dom:R,getFps:function(){return y},getMs:function(){return x},update:function(e,f,w,R){y=e,x=f,z.fillStyle=v,z.fillRect(0,0,a,d),z.fillStyle=o<=x?"#f08":"#0ff",z.fillText(Math.round(y)+" FPS  -  "+Math.round(x)+" MS",l,c),R&&(z.fillStyle="#fa0",z.fillText(R,l,m)),z.drawImage(T,u+i,d,s-i,p,u,d,s-i,p),z.fillStyle=h,z.fillRect(u+s-i,d,i,p),z.fillStyle="#a15";var F=Math.round((1-y/n)*p);if(F<0&&(F=0),z.fillRect(u+s-i,d+F,i,p-F),S=A("#0ff",r,x,S),M)for(var H=0;H<M;H++)g[H]=A(t[H].color,t[H].max,w[H],g[H])}}};return function(t,n,r){void 0==t&&(t=60),void 0==n&&(n=100);var o=!1;self.performance&&self.performance.memory&&self.performance.memory.usedJSHeapSize!=self.performance.memory.usedJSHeapSize&&(o=!0);var i=[];o&&i.push({color:"#fa0",max:n}),r&&r instanceof Array&&(i=i.concat(r));var a=new e(t,i),f=(performance||Date).now(),l=f,c=0,u=0,d=0,s="";return{dom:a.dom,getFps:function(){return a.getFps()},getMs:function(){return a.getMs()},getMem:function(){return u},setText:function(e){s=e},begin:function(){f=(performance||Date).now()},end:function(e){c++;var t=(performance||Date).now(),n=t-f;if(d<n&&(d=n),t>=l+1e3){var r=[],i=s;o&&(u=window.performance.memory.usedJSHeapSize/1048576,r.push(u),i=Math.round(u)+" MB  "+s),e&&e instanceof Array&&(r=r.concat(e)),a.update(1e3*c/(t-l),d,r,i),l=t,c=0,d=0}return t},update:function(e){f=this.end(e)}}}});