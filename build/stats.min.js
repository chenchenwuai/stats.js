// @drecom/stats.js - http://github.com/drecom/stats.js
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){"use strict";var e=function(e,t){var n=e,r=1e3/n,a=1e3/n*.6,o=2*Math.round(window.devicePixelRatio||1),f=80*o,i=48*o,l=3*o,c=2*o,u=3*o,d=25*o,s=74*o,m=20*o,p=d/2,h="#002",v="#124",x=0,y=0,S=m,M=0,g=[];if(t&&t instanceof Array){M=t.length;for(var w=0;w<M;w++)g.push(m)}var R=document.createElement("div");R.style.cssText="position:fixed;top:0;left:0;opacity:0.9;z-index:10000";var F=document.createElement("canvas");F.width=f,F.height=i,R.appendChild(F),F.style.cssText="width:80px;height:48px";var T=F.getContext("2d");T.font="bold "+9*o+"px Helvetica,Arial,sans-serif",T.textBaseline="top",T.fillStyle=h,T.fillRect(0,0,f,i),T.fillStyle=v,T.fillRect(u,d,s,m);var z=function(e,t,n,r){T.fillStyle=e;var a=Math.round((1-n/t)*m);m-o<a?a=m-o:a<0&&(a=0);var f=Math.min(a,r),i=Math.max(a,r)-f;return i<o&&(i=o),T.fillRect(u+s-o,d+f,o,i),a};return{dom:R,getFps:function(){return x},getMs:function(){return y},update:function(e,i,w,R){x=e,y=i,T.fillStyle=h,T.fillRect(0,0,f,d),T.fillStyle=a<=y?"#f08":"#0ff",T.fillText(Math.round(x)+" FPS  -  "+Math.round(y)+" MS",l,c),R&&(T.fillStyle="#fa0",T.fillText(R,l,p)),T.drawImage(F,u+o,d,s-o,m,u,d,s-o,m),T.fillStyle=v,T.fillRect(u+s-o,d,o,m),T.fillStyle="#a15";var A=Math.round((1-x/n)*m);if(A<0&&(A=0),T.fillRect(u+s-o,d+A,o,m-A),S=z("#0ff",r,y,S),M)for(var C=0;C<M;C++)g[C]=z(t[C].color,t[C].max,w[C],g[C])}}};return function(t){var n=t&&t.maxFPS?t.maxFPS:60,r=t&&t.maxMem?t.maxMem:100,a=t&&t.customGraphConf?t.customGraphConf:void 0,o=t&&t.drawInterval?t.drawInterval:1e3,f=!1;self.performance&&self.performance.memory&&self.performance.memory.usedJSHeapSize!=self.performance.memory.usedJSHeapSize&&(f=!0);var i=[];f&&i.push({color:"#fa0",max:r}),a&&a instanceof Array&&(i=i.concat(a));var l=new e(n,i),c=(performance||Date).now(),u=c,d=0,s=0,m=0,p="";return{dom:l.dom,getFps:function(){return l.getFps()},getMs:function(){return l.getMs()},getMem:function(){return s},setText:function(e){p=e},begin:function(){c=(performance||Date).now()},end:function(e){d++;var t=(performance||Date).now(),n=t-c;if(m<n&&(m=n),t>=u+o){var r=[],a=p;f&&(s=window.performance.memory.usedJSHeapSize/1048576,r.push(s),a=Math.round(s)+" MB  "+p),e&&e instanceof Array&&(r=r.concat(e)),l.update(1e3*d/(t-u),m,r,a),u=t,d=0,m=0}return t},update:function(e){c=this.end(e)}}}});